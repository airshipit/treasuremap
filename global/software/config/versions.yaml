---
schema: pegleg/SoftwareVersions/v1
metadata:
  schema: metadata/Document/v1
  name: software-versions
  layeringDefinition:
    abstract: false
    layer: global
  labels:
    name: software-versions-global
  storagePolicy: cleartext
  substitutions:
    - src:
        schema: nc/CorridorConfig/v1
        name: corridor-config
        path: .artifactory.hostnames.docker-open
      dest:
        - path: .images
          pattern: DOCKER_OPEN_DOMAIN
          recurse:
            depth: -1
    - src:
        schema: nc/CorridorConfig/v1
        name: corridor-config
        path: .artifactory.hostnames.docker-open
      dest:
        - path: .validation
          pattern: DOCKER_OPEN_DOMAIN
          recurse:
            depth: -1
    - src:
        schema: nc/CorridorConfig/v1
        name: corridor-config
        path: .artifactory.hostnames.docker
      dest:
        path: .images
        pattern: DOCKER_DOMAIN
        recurse:
          depth: -1
    # apt repository keys
    - src:
        schema: deckhand/PublicKey/v1
        name: jenkins_repo_key
        path: .
      dest:
        - path: .packages.repositories.main_archive.gpgkey
        - path: .packages.repositories.linux_dell.gpgkey
        - path: .packages.repositories.nc_extra.gpgkey
        - path: .packages.repositories.zfs_dkms.gpgkey
    # mirantis apt repository keys
    - src:
        schema: deckhand/PublicKey/v1
        name: mirantis_repo_key
        path: .
      dest:
        - path: .packages.repositories.ceph.gpgkey
        - path: .packages.repositories.docker.gpgkey
    # apt urls
    - src:
        schema: pegleg/CommonAddresses/v1
        name: common-addresses
        path: .dns.ingress_domain
      dest:
        - path: .packages.repositories.main_archive.url
          pattern: INGRESS_DOMAIN
        - path: .packages.repositories.ceph.url
          pattern: INGRESS_DOMAIN
        - path: .packages.repositories.docker.url
          pattern: INGRESS_DOMAIN
        - path: .packages.repositories.nc_extra.url
          pattern: INGRESS_DOMAIN
        - path: .packages.repositories.linux_dell.url
          pattern: INGRESS_DOMAIN
        - path: .packages.repositories.zfs_dkms.url
          pattern: INGRESS_DOMAIN

data:
  charts:
    kubernetes:
      apiserver:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/apiserver
        type: git
      apiserver-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 844d2cd16d865df1779524a0623503a6c92e12ec
        subpath: helm-toolkit
        type: git
      calico:
        calico:
          location: https://opendev.org/openstack/openstack-helm-infra
          reference: 03580ec90afa162c166661acf27f351b83565375
          subpath: calico
          type: git
        calico-htk:
          location: https://opendev.org/openstack/openstack-helm-infra
          reference: 03580ec90afa162c166661acf27f351b83565375
          subpath: helm-toolkit
          type: git
        etcd:
          location: https://opendev.org/airship/promenade
          reference: 153882b153431f21bccd0f196eb3eaf27e689d3c
          subpath: charts/etcd
          type: git
        etcd-htk:
          location: https://opendev.org/openstack/openstack-helm-infra
          reference: 042ac523974d208cd0847f19a41f6494c5fe9da7
          subpath: helm-toolkit
          type: git
      controller-manager:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/controller_manager
        type: git
      controller-manager-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 96b751465abac477517e9ec2f7fca0b64c9dd22a
        subpath: helm-toolkit
        type: git
      coredns:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/coredns
        type: git
      coredns-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 96b751465abac477517e9ec2f7fca0b64c9dd22a
        subpath: helm-toolkit
        type: git
      etcd:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/etcd
        type: git
      etcd-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 96b751465abac477517e9ec2f7fca0b64c9dd22a
        subpath: helm-toolkit
        type: git
      falco:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 22ef25ab295d6b7c6797cfffaa77cf181c673e9b
        subpath: falco
        type: git
      falco-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 22ef25ab295d6b7c6797cfffaa77cf181c673e9b
        subpath: helm-toolkit
        type: git
      haproxy:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/haproxy
        type: git
      haproxy-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 96b751465abac477517e9ec2f7fca0b64c9dd22a
        subpath: helm-toolkit
        type: git
      ingress:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: f08d30df6b871044135534eedf76c8f2760d9923
        subpath: ingress
        type: git
      ingress-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      proxy:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/proxy
        type: git
      proxy-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 844d2cd16d865df1779524a0623503a6c92e12ec
        subpath: helm-toolkit
        type: git
      scheduler:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/scheduler
        type: git
      scheduler-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 844d2cd16d865df1779524a0623503a6c92e12ec
        subpath: helm-toolkit
        type: git
    osh:
      barbican:
        location: https://opendev.org/openstack/openstack-helm
        reference: 9bdd4fe96f46e3a4fb30ae7910dd970ca0a82c76
        subpath: barbican
        type: git
      cinder:
        location: https://opendev.org/openstack/openstack-helm
        reference: 2002b9368dc8f3f9d9737803c147534ae3e5258c
        subpath: cinder
        type: git
      cinder-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      glance:
        location: https://opendev.org/openstack/openstack-helm
        reference: 2002b9368dc8f3f9d9737803c147534ae3e5258c
        subpath: glance
        type: git
      glance-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      heat:
        location: https://opendev.org/openstack/openstack-helm
        reference: 4aa7a3026706758d22dc3e7002a2a0bffcfd84ea
        subpath: heat
        type: git
      heat-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      helm_toolkit:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      horizon:
        location: https://opendev.org/openstack/openstack-helm
        reference: 4aa7a3026706758d22dc3e7002a2a0bffcfd84ea
        subpath: horizon
        type: git
      horizon-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      ingress:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: f08d30df6b871044135534eedf76c8f2760d9923
        subpath: ingress
        type: git
      ingress-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      keystone:
        location: https://opendev.org/openstack/openstack-helm
        reference: 28d0a56e46129276559a4ddb2dea32c35b10b58e
        subpath: keystone
        type: git
      keystone-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      libvirt:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 167b9eb1a8f063174864bd9d12f327d8f0c34885
        subpath: libvirt
        type: git
      libvirt-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      mariadb:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 6dd39da6ad7ffd744ecff423e99637aadd9c0414
        subpath: mariadb
        type: git
      mariadb-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: b482b57e6ea85eceef02787cb2e8eb884cceb80c
        subpath: helm-toolkit
        type: git
      memcached:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: c60c138777edc0cc35ccb7fcd8a13b57093a7ee1
        subpath: memcached
        type: git
      memcached-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      neutron:
        location: https://opendev.org/openstack/openstack-helm
        reference: 2a9e91589d1d03279cafb4f836056b228c2bc425
        subpath: neutron
        type: git
      neutron-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 4f30b1361e2b596ce8760fd593f08d4f9a6639fe
        subpath: helm-toolkit
        type: git
      nova:
        location: https://opendev.org/openstack/openstack-helm
        reference: 4aa7a3026706758d22dc3e7002a2a0bffcfd84ea
        subpath: nova
        type: git
      nova-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 017c8df602cbe33ae3e70a7125ee94886136e850
        subpath: helm-toolkit
        type: git
      openvswitch:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: f08d30df6b871044135534eedf76c8f2760d9923
        subpath: openvswitch
        type: git
      openvswitch-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: d0b32ed88ad652d9c2226466a13bac8b28038399
        subpath: helm-toolkit
        type: git
      rabbitmq:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 1a8536fd5d9c3c05a0c4b5cd0e6e4a502c9c53bc
        subpath: rabbitmq
        type: git
      rabbitmq-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 832718629f3d967c0bca7f28c53f57cd5ad4ddaa
        subpath: helm-toolkit
        type: git
      tempest:
        location: https://opendev.org/openstack/openstack-helm
        reference: 2a05d4ec050e5f1b92d20a94da168ff0bbf5710b
        subpath: tempest
        type: git
      tempest-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: d0f808a64e2b0340aeefcfc4c6107bc825a9fc99
        subpath: helm-toolkit
        type: git
    osh_addons:
      ingress:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: f08d30df6b871044135534eedf76c8f2760d9923
        subpath: ingress
        type: git
      ingress-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 2ac08b59b4b2658175e7ad83708e254a4dc4ffbd
        subpath: helm-toolkit
        type: git
      mariadb:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: ba601e0cba1bb584fe3bce07f96f8e5b98b12889
        subpath: mariadb
        type: git
      mariadb-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a4568f31e2e9d09c8f318a9d938c9a16f0da59ef
        subpath: helm-toolkit
        type: git
      mini-mirror:
        location: https://opendev.org/openstack/openstack-helm-addons
        reference: 1c2d9373f2c6f39ef2aaeff83799906f1aae2f2a
        subpath: mini-mirror
        type: git
      mini-mirror-htk:
        location: https://opendev.org/openstack/openstack-helm-addons
        reference: af270934d44ab3f0eb2462cde7626eb2c6a1f967
        subpath: helm-toolkit
        type: git
      ranger:
        location: https://opendev.org/openstack/openstack-helm-addons
        reference: b5cbc370781417cda449ba008c747ccf6d9794b9
        subpath: ranger
        type: git
      ranger-agent:
        location: https://opendev.org/openstack/openstack-helm-addons
        reference: fc9b28b3e2e1be0a2b5171074c5dd8f43e3a0a6f
        subpath: ranger-agent
        type: git
      ranger-agent-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: b0ee64420436d3acf239446a7b0b3300bb624f9a
        subpath: helm-toolkit
        type: git
      ranger-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: b0ee64420436d3acf239446a7b0b3300bb624f9a
        subpath: helm-toolkit
        type: git
      sonobuoy:
        location: https://opendev.org/openstack/openstack-helm-addons
        reference: b60acc330716eb1c6325bfa6ca8080f9d5528c4c
        subpath: sonobuoy
        type: git
      sonobuoy-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 992e82fc1dbcca989f171b7679cee96a924259de
        subpath: helm-toolkit
        type: git
    osh_infra:
      ceph-rgw:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 20cf2db961a05285a751b3bc96b8fa4e51e3b412
        subpath: ceph-rgw
        type: git
      ceph-rgw-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: eacf93722136636dcfbd2b68c59b71f071ffc085
        subpath: helm-toolkit
        type: git
      elasticsearch:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a2c1eea8a982de777fa430efdf188d556630f3f0
        subpath: elasticsearch
        type: git
      elasticsearch-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      fluentd:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 59164428d305bf72dd67733a184266fd1217c153
        subpath: fluentd
        type: git
      fluentd-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      grafana:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 128c3f748aee3ae72cccca0ff17a71ac1ed5c2fb
        subpath: grafana
        type: git
      grafana-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      kibana:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: b62a46336c1b6ca86e48710ba85c9320f3075fd5
        subpath: kibana
        type: git
      kibana-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      local-storage:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 2ac08b59b4b2658175e7ad83708e254a4dc4ffbd
        subpath: local-storage
        type: git
      local-storage-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: c2ece6a45aea1a4d52942eeba23b5d37de70c082
        subpath: helm-toolkit
        type: git
      nagios:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a6a9146de4996aafb7148009de8ee584fb44dfa0
        subpath: nagios
        type: git
      nagios-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      podsecuritypolicy:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: b19c7f21c9aab072fd101228737b3cec0e0b0963
        subpath: podsecuritypolicy
        type: git
      podsecuritypolicy-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a0315caffaa7327cc3c8b4e8d60f6fb46b57e4a6
        subpath: helm-toolkit
        type: git
      prometheus:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: daca15441ba750d78d0e698e4a89016060d03bd0
        subpath: prometheus
        type: git
      prometheus-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      prometheus_kube_state_metrics:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: af712da8635c22962ff5cd205918a13a66989913
        subpath: prometheus-kube-state-metrics
        type: git
      prometheus_kube_state_metrics-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      prometheus_node_exporter:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: c61fc590fbca886bf86288c03e78727e9889cb33
        subpath: prometheus-node-exporter
        type: git
      prometheus_node_exporter-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      prometheus_openstack_exporter:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a6a9146de4996aafb7148009de8ee584fb44dfa0
        subpath: prometheus-openstack-exporter
        type: git
      prometheus_openstack_exporter-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      prometheus_process_exporter:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: f8c5d0676904cdb05de80234cb8659bde856420a
        subpath: prometheus-process-exporter
        type: git
      prometheus_process_exporter-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
    ucp:
      apiserver-webhook:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/apiserver-webhook
        type: git
      apiserver-webhook-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 844d2cd16d865df1779524a0623503a6c92e12ec
        subpath: helm-toolkit
        type: git
      armada:
        location: https://opendev.org/airship/armada
        reference: a3f11e5873bc5b97de579c627d7b57e3bc9f655e
        subpath: charts/armada
        type: git
      armada-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 926348fe2476051f9ca825916db333f81c0139b7
        subpath: helm-toolkit
        type: git
      barbican:
        location: https://opendev.org/openstack/openstack-helm
        reference: 9bdd4fe96f46e3a4fb30ae7910dd970ca0a82c76
        subpath: barbican
        type: git
      barbican-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: c2ece6a45aea1a4d52942eeba23b5d37de70c082
        subpath: helm-toolkit
        type: git
      ceph-client:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: dd39a0f7e08c9eee861b9fa23e9587d440b76c43
        subpath: ceph-client
        type: git
      ceph-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 8d9b7fdd2b146dc8a1578d6ee23c79aa3116f87e
        subpath: helm-toolkit
        type: git
      ceph-mon:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 4eee89ccba75a34b222d2f828129d0d5f26ffd23
        subpath: ceph-mon
        type: git
      ceph-osd:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 4ed24de14b562607742a246906b48fba647d3ce8
        subpath: ceph-osd
        type: git
      ceph-provisioners:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 4ed24de14b562607742a246906b48fba647d3ce8
        subpath: ceph-provisioners
        type: git
      ceph-rgw:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 20cf2db961a05285a751b3bc96b8fa4e51e3b412
        subpath: ceph-rgw
        type: git
      deckhand:
        location: https://opendev.org/airship/deckhand
        reference: 0545625da9f83c123de854fa2c6ff05b941d56e7
        subpath: charts/deckhand
        type: git
      deckhand-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 926348fe2476051f9ca825916db333f81c0139b7
        subpath: helm-toolkit
        type: git
      divingbell:
        location: https://opendev.org/airship/divingbell
        reference: d657f7968c296cfb7565e144b2420eabf47ef9f9
        subpath: divingbell
        type: git
      divingbell-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 792b0166773e719a39375f6450bb18426022dddf
        subpath: helm-toolkit
        type: git
      drydock:
        location: https://opendev.org/airship/drydock
        reference: 63f7783da2824709f86bbc56ee2140ed293c450f
        subpath: charts/drydock
        type: git
      drydock-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 926348fe2476051f9ca825916db333f81c0139b7
        subpath: helm-toolkit
        type: git
      ingress:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: f08d30df6b871044135534eedf76c8f2760d9923
        subpath: ingress
        type: git
      ingress-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      keystone:
        location: https://opendev.org/openstack/openstack-helm
        reference: 28d0a56e46129276559a4ddb2dea32c35b10b58e
        subpath: keystone
        type: git
      keystone-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      maas:
        location: https://opendev.org/airship/maas
        reference: 35fa3175e3d2873d3a7e21cdc793e9d153df7886
        subpath: charts/maas
        type: git
      maas-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: d0f808a64e2b0340aeefcfc4c6107bc825a9fc99
        subpath: helm-toolkit
        type: git
      mariadb:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 6dd39da6ad7ffd744ecff423e99637aadd9c0414
        subpath: mariadb
        type: git
      mariadb-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: f08d30df6b871044135534eedf76c8f2760d9923
        subpath: helm-toolkit
        type: git
      memcached:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: c60c138777edc0cc35ccb7fcd8a13b57093a7ee1
        subpath: memcached
        type: git
      memcached-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 3dd0eb0cdf54387447f07a4ec6be9582c457a1a8
        subpath: helm-toolkit
        type: git
      postgresql:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 25aa3690252c605d237c187524d0adf73a8424e5
        subpath: postgresql
        type: git
      postgresql-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 4a770bb90846e7bd5fd32be4fcbce95b4218be01
        subpath: helm-toolkit
        type: git
      promenade:
        location: https://opendev.org/airship/promenade
        reference: 27f181a9d30294030d695b747b2e4560ffbd29be
        subpath: charts/promenade
        type: git
      promenade-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 844d2cd16d865df1779524a0623503a6c92e12ec
        subpath: helm-toolkit
        type: git
      rabbitmq:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 1a8536fd5d9c3c05a0c4b5cd0e6e4a502c9c53bc
        subpath: rabbitmq
        type: git
      rabbitmq-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 832718629f3d967c0bca7f28c53f57cd5ad4ddaa
        subpath: helm-toolkit
        type: git
      shipyard:
        location: https://opendev.org/airship/shipyard
        reference: 796f2ddcca35ad168c5c6c08221d5724dadfffba
        subpath: charts/shipyard
        type: git
      shipyard-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 926348fe2476051f9ca825916db333f81c0139b7
        subpath: helm-toolkit
        type: git
      tenant-ceph-client:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: dd39a0f7e08c9eee861b9fa23e9587d440b76c43
        subpath: ceph-client
        type: git
      tenant-ceph-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 8d9b7fdd2b146dc8a1578d6ee23c79aa3116f87e
        subpath: helm-toolkit
        type: git
      tenant-ceph-mon:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 4eee89ccba75a34b222d2f828129d0d5f26ffd23
        subpath: ceph-mon
        type: git
      tenant-ceph-osd:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 4ed24de14b562607742a246906b48fba647d3ce8
        subpath: ceph-osd
        type: git
      tenant-ceph-provisioners:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 4ed24de14b562607742a246906b48fba647d3ce8
        subpath: ceph-provisioners
        type: git
      tenant-ceph-rgw:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 20cf2db961a05285a751b3bc96b8fa4e51e3b412
        subpath: ceph-rgw
        type: git
      tiller:
        location: https://opendev.org/airship/armada
        reference: a3f11e5873bc5b97de579c627d7b57e3bc9f655e
        subpath: charts/tiller
        type: git
      tiller-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 5e5d87391167637a56d691e64097c58fd7a29c93
        subpath: helm-toolkit
        type: git
    utility:
      calicoctl-utility:
        location: https://opendev.org/airship/porthole
        reference: 88d87ff37338b2fbf09baec78f3d73160eaa14c3
        subpath: charts/calicoctl-utility
        type: git
      calicoctl-utility-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      ceph-utility:
        location: https://opendev.org/airship/porthole
        reference: a8b0517a4f2be0c81495167df63f065fc1e4db88
        subpath: charts/ceph-utility
        type: git
      ceph-utility-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: a78ee39dcb9209a4ba6cc87f2989481a9fa63fc1
        subpath: helm-toolkit
        type: git
      compute-utility:
        location: https://opendev.org/airship/porthole
        reference: a8b0517a4f2be0c81495167df63f065fc1e4db88
        subpath: charts/compute-utility
        type: git
      compute-utility-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 22ef25ab295d6b7c6797cfffaa77cf181c673e9b
        subpath: helm-toolkit
        type: git
      etcdctl-utility:
        location: https://opendev.org/airship/porthole
        reference: 002e070eb7d69d483cc3909f9e13c370ca9d84d9
        subpath: charts/etcdctl-utility
        type: git
      etcdctl-utility-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 22ef25ab295d6b7c6797cfffaa77cf181c673e9b
        subpath: helm-toolkit
        type: git
      mysqlclient-utility:
        location: https://opendev.org/airship/porthole
        reference: 002e070eb7d69d483cc3909f9e13c370ca9d84d9
        subpath: charts/mysqlclient-utility
        type: git
      mysqlclient-utility-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 486ad9a25f03ba888a247fb8d856bb9a33a29937
        subpath: helm-toolkit
        type: git
      openstack-utility:
        location: https://opendev.org/airship/porthole
        reference: 1f478c6c5d09809ecad491d5e55ccbd708c41217
        subpath: charts/openstack-utility
        type: git
      openstack-utility-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 486ad9a25f03ba888a247fb8d856bb9a33a29937
        subpath: helm-toolkit
        type: git
      postgresql-utility:
        location: https://opendev.org/airship/porthole
        reference: 002e070eb7d69d483cc3909f9e13c370ca9d84d9
        subpath: charts/postgresql-utility
        type: git
      postgresql-utility-htk:
        location: https://opendev.org/openstack/openstack-helm-infra
        reference: 22ef25ab295d6b7c6797cfffaa77cf181c673e9b
        subpath: helm-toolkit
        type: git
  files:
    kubernetes: https://dl.k8s.io/v1.17.2/kubernetes-node-linux-amd64.tar.gz
    crictl: https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.22.0/crictl-v1.22.0-linux-amd64.tar.gz
  images_refs:
    images:
      alpine: &alpine docker.io/alpine:3.6
      busybox: &busybox docker.io/busybox:1.28.3
      alpine-38: &alpine-38 docker.io/alpine:3.8
      airflow: &airflow quay.io/airshipit/airflow:f0f876afef07f62cd38fbce8b775cfc741e0bf52-ubuntu_xenial
      armada: &armada quay.io/airshipit/armada:7ef4b8643b5ec5216a8f6726841e156c0aa54a1a-ubuntu_bionic
      barbican: &barbican docker.io/openstackhelm/barbican@sha256:4c44bb9e5d29224007b2ef52c1ce4ff756e655efe9c6e9a95b2e98f4f501499e

      #ceph_daemon:  &ceph_daemon docker.io/openstackhelm/ceph-daemon:ubuntu_bionic-20191216
      ceph_daemon:  &ceph_daemon docker.io/openstackhelm/ceph-daemon:ubuntu_bionic-20210902

      ceph-utility: &ceph-utility quay.io/airshipit/porthole-ceph-utility:e7a6644b3af8bddd94d20ca35f388ae605203416-ubuntu_bionic

      calicoctl-utility: &calicoctl-utility quay.io/airshipit/porthole-calicoctl-utility:e7a6644b3af8bddd94d20ca35f388ae605203416-ubuntu_bionic
      calico: &calico quay.io/calico/cni:v3.8.9
      calico_ctl: &calico_ctl docker.io/calico/ctl:v3.8.9
      calico_kube_controllers: &calico_kube_controllers quay.io/calico/kube-controllers:v3.8.9
      calico_node: &calico_node quay.io/calico/node:v3.8.9
      calico_dep_check: &calico_dep_check quay.io/stackanetes/kubernetes-entrypoint:v0.3.1

      compute-utility: &compute-utility quay.io/airshipit/porthole-compute-utility:e7a6644b3af8bddd94d20ca35f388ae605203416-ubuntu_bionic

      postgresql-utility: &postgresql-utility quay.io/airshipit/porthole-postgresql-utility:e7a6644b3af8bddd94d20ca35f388ae605203416-ubuntu_bionic

      coredns: &coredns docker.io/coredns/coredns:1.6.4

      curator: &curator docker.io/bobrik/curator:5.8.1

      deckhand: &deckhand quay.io/airshipit/deckhand:90f653bc0fa9f2c910d05a3c00d2c339c064638d-ubuntu_xenial

      dep_check: &dep_check quay.io/stackanetes/kubernetes-entrypoint:v0.3.1

      drydock: &drydock quay.io/airshipit/drydock:dfe7c0508d27f517bf29cd2f37b7f07b112edb4e

      elasticsearch: &elasticsearch  docker.io/openstackhelm/elasticsearch-s3:7_1_0-20191119

      etcd: &etcd quay.io/coreos/etcd:v3.4.8

      etcdctl: &etcdctl-utility quay.io/airshipit/porthole-etcdctl-utility:e7a6644b3af8bddd94d20ca35f388ae605203416-ubuntu_bionic

      falco: &falco docker.io/falcosecurity/falco:0.12.1

      fluentd: &fluentd  docker.io/openstackhelm/fluentd:debian-20190903

      helm: &helm docker.io/lachlanevenson/k8s-helm:v2.16.9

      httpd: &httpd docker.io/library/httpd:2.4.46

      hyperkube_amd64: &hyperkube_amd64 gcr.io/google-containers/hyperkube-amd64:v1.17.2

      image_repo_sync: &image_repo_sync docker.io/docker:17.07.0

      ingress_controller: &ingress_controller quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.32.0

      ingress_module_init: &ingress_module_init docker.io/openstackhelm/neutron:train-ubuntu_bionic-20210414

      ingress_routed_vip: &ingress_routed_vip docker.io/openstackhelm/neutron:train-ubuntu_bionic-20210414

      ingress_error_pages: &ingress_error_pages gcr.io/google-containers/defaultbackend-amd64@sha256:865b0c35e6da393b8e80b7e3799f777572399a4cff047eb02a81fa6e7a48ed4b

      ingress_error_pages_404: &ingress_error_pages_404 gcr.io/google-containers/ingress-gce-404-server-with-metrics-amd64:v1.6.0@sha256:d83d8a481145d0eb71f8bd71ae236d1c6a931dd3bdcaf80919a8ec4a4d8aff74

      ingress_controller_mariadb: &ingress_controller_mariadb quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.32.0

      k8s-keystone-auth: &k8s-keystone-auth docker.io/k8scloudprovider/k8s-keystone-auth:v1.18.0

      kibana: &kibana docker.elastic.co/kibana/kibana-oss:7.9.2

      libvirt: &libvirt docker.io/openstackhelm/libvirt:ubuntu_bionic-20210227

      mariadb_db: &mariadb_db docker.io/openstackhelm/mariadb:10.2.18

      maas_rack_controller: &maas_rack_controller quay.io/airshipit/maas-rack-controller:840b482373df163ba088b91c278f2a58fd599b7b

      maas_region_controller: &maas_region_controller quay.io/airshipit/maas-region-controller:840b482373df163ba088b91c278f2a58fd599b7b
      maas_ingress: &maas_ingress docker-prod-local.artifactory.mirantis.com/mirantis/kubernetes-ingress-nginx/nginx-ingress-controller-amd64@sha256:fe510f97b02566e21685b7b108422370ca67a8a44099ce7e968a778c0ba06e0b

      memcached: &memcached docker.io/library/memcached:1.6.6-alpine

      #mos_cinder: &mos_cinder openstackhelm/cinder:stein-ubuntu_bionic-20200513
      mos_cinder: &mos_cinder docker.io/openstackhelm/cinder:train-ubuntu_bionic-20200612
      mos_cinder_storage_init: &mos_cinder_storage_init docker.io/openstackhelm/ceph-config-helper:ubuntu_bionic-20200416

      #mos_glance: &mos_glance openstackhelm/glance:stein-ubuntu_bionic-20200513
      mos_glance: &mos_glance docker.io/openstackhelm/glance:train-ubuntu_bionic-20200612

      #mos_heat: &mos_heat docker.io/deepakdt/heat:stein-ubuntu_bionic-taas
      mos_heat: &mos_heat docker.io/openstackhelm/heat:train-ubuntu_bionic-20200612

      mos_heat_nova: &mos_heat_nova docker.io/openstackhelm/heat:train-ubuntu_bionic-20200612
      mos_horizon: &mos_horizon docker.io/openstackhelm/horizon:train-ubuntu_bionic-20200612

      mos_keystone: &mos_keystone docker.io/openstackhelm/keystone:train-ubuntu_bionic-20200612
      #mos_neutron: &mos_neutron docker.io/imarijitbose/stein_neutron_bionic
      mos_neutron: &mos_neutron docker.io/openstackhelm/neutron:train-ubuntu_bionic-20200612

      mos_neutron_sriov: &mos_neutron_sriov docker.io/openstackhelm/neutron:train-ubuntu_bionic-20200612
      mos_nova: &mos_nova docker.io/openstackhelm/nova:train-ubuntu_bionic-20200612

      mysqlclient-utility: &mysqlclient-utility quay.io/airshipit/porthole-mysqlclient-utility:e7a6644b3af8bddd94d20ca35f388ae605203416-ubuntu_bionic

      nova_novncproxy: &nova_novncproxy docker.io/openstackhelm/nova:train-ubuntu_bionic-20200612

      nova_spiceproxy: &nova_spiceproxy docker.io/openstackhelm/nova:train-ubuntu_bionic-20200612

      #openvswitch: &openvswitch docker.io/deepakdt/openvswitch:ovs2.11.1-dpdk18.11.3-ubuntu_bionic-dpdk
      openvswitch: &openvswitch docker.io/openstackhelm/openvswitch:ubuntu_bionic-20200722

      openstack-utility: &openstack-utility  quay.io/airshipit/porthole-openstack-utility:e7a6644b3af8bddd94d20ca35f388ae605203416-ubuntu_bionic

      pegleg: &pegleg quay.io/airshipit/pegleg@sha256:0ca3b708c37425e4e05627443dbd39d2ed27cf06193d2cc3bcb5b985b260d79d
      nc-swissknife: &nc-swissknife quay.io/airshipit/pegleg@sha256:0ca3b708c37425e4e05627443dbd39d2ed27cf06193d2cc3bcb5b985b260d79d

      patroni: &patroni docker-prod-local.artifactory.mirantis.com/nc/patroni:9.6.15-bionic-1567439806207

      postgres: &postgres docker-prod-local.artifactory.mirantis.com/nc/postgresql:9.6.15-debian-1566552796302

      promenade: &promenade quay.io/airshipit/promenade:b65930f205b77f28507dee9296aead00e24f2a18
      divingbell: &divingbell docker.io/ubuntu:16.04

      prometheus: &prometheus docker.io/prom/prometheus:v2.12.0
      prometheus_elasticsearch_exporter: &prometheus_elasticsearch_exporter docker.io/justwatch/elasticsearch_exporter:1.0.1
      prometheus_fluentd_exporter: &prometheus_fluentd_exporter docker.io/bitnami/fluentd-exporter:0.2.0
      prometheus_memcached_exporter: &prometheus_memcached_exporter docker.io/prom/memcached-exporter:v0.4.1
      prometheus_mysql_exporter: &prometheus_mysql_exporter docker.io/prom/mysqld-exporter:v0.10.0
      prometheus_openstack_exporter: &prometheus_openstack_exporter docker.io/openstackhelm/prometheus-openstack-exporter:ubuntu_bionic-20191017
      prometheus_postgresql_exporter: &prometheus_postgresql_exporter docker.io/wrouesnel/postgres_exporter:v0.4.6
      prometheus_postgresql_exporter_create_user: &prometheus_postgresql_exporter_create_user docker.io/library/postgres:9.5
      rabbitmq_mgmt: &rabbitmq_mgmt docker.io/library/rabbitmq:3.7.15-management
      rabbitmq: &rabbitmq docker.io/library/rabbitmq:3.7.15
      rabbitmq_exporter: &rabbitmq_exporter docker.io/kbudde/rabbitmq-exporter:v1.0.0-RC7.1
      rally_test: &rally_test docker.io/xrally/xrally-openstack:1.3.0
      #rbd_provisioner: &rbd_provisioner docker.io/openstackhelm/ceph-rbd-provisioner:ubuntu_bionic-20191216
      rbd_provisioner: &rbd_provisioner docker.io/openstackhelm/ceph-rbd-provisioner:ubuntu_bionic-20200521
      selenium_tests: &selenium_tests docker.io/openstackhelm/osh-selenium:ubuntu_bionic-20191017
      shipyard: &shipyard quay.io/airshipit/shipyard:0b29f89d3fc284fe483c58f102574c687034468d-ubuntu_xenial
      sstream_cache: &sstream_cache quay.io/airshipit/sstream-cache:03ebbaaca3f38ab49a5993b506761a4abfd19d89

      #storage_init: &storage_init docker.io/openstackhelm/ceph-config-helper:ubuntu_bionic-20191216
      storage_init: &storage_init docker.io/openstackhelm/ceph-config-helper:ubuntu_bionic-20200521

      tiller: &tiller ghcr.io/helm/tiller@sha256:fffff22d7b397fa5d5461c0c554584aa9d1d3631952244bfb9795f2e094d10dd
      osh_heat: &osh_heat docker.io/openstackhelm/heat:train-ubuntu_bionic-20200612

      node_exporter: &node_exporter docker.io/prom/node-exporter:v0.15.0
      process_exporter: &process_exporter docker.io/ncabatoff/process-exporter:0.2.11
      kube_state_metrics: &kube_state_metrics docker.io/bitnami/kube-state-metrics:1.3.1
      nagios: &nagios docker.io/openstackhelm/nagios:ubuntu_xenial-20191113

      ranger: &ranger quay.io/attcomdev/ranger:14173e31114f924a75e89357added5315fd7e9f7
      ranger_agent: &ranger_agent quay.io/attcomdev/ranger-agent:b7167794a1f9ed8bdc53dd9a121939a8b3ba652e

      sonobuoy: &rsonobuoy quay.io/rackspace/sonobuoy:v0.14.0

      kubernetes_haproxy: &kubernetes_haproxy docker.io/haproxy:1.8.19
      kubernetes_test: &kubernetes_test docker.io/python:3.6

      kubernetes_pause: &kubernetes_pause gcr.io/google_containers/pause-amd64:3.1
      grafana: &grafana docker.io/grafana/grafana:6.2.0

    # TODO: Move this under the images_refs.images header for consistency
    keystone: &ref_keystone
      ks_endpoints: *mos_heat
      ks_service: *mos_heat
      ks_user: *mos_heat

  images:
    monitoring_image: *busybox
    ucp:
      apiserver-webhook:
        apiserver: *hyperkube_amd64
        kubernetes_keystone_webhook: *k8s-keystone-auth
        scripted_test: *mos_heat
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        ks_user: *mos_heat
      armada:
        api: *armada
        dep_check: *dep_check
        ks_endpoints: *mos_heat
        ks_service: *mos_heat
        ks_user: *mos_heat
        image_repo_sync: *image_repo_sync
        helm: *helm
        tiller: *tiller
      promenade:
        promenade: *promenade
        ks_user: *mos_heat
        ks_service: *mos_heat
        ks_endpoints: *mos_heat
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      deckhand:
        deckhand: *deckhand
        dep_check: *dep_check
        db_init: *postgres
        db_sync: *deckhand
        ks_endpoints: *mos_heat
        ks_service: *mos_heat
        ks_user: *mos_heat
      barbican:
        bootstrap: *mos_heat
        dep_check: *dep_check
        scripted_test: *mos_heat
        db_init: *mos_heat
        barbican_db_sync: *barbican
        db_drop: *mos_heat
        ks_endpoints: *mos_heat
        ks_service: *mos_heat
        ks_user: *mos_heat
        barbican_api: *barbican
        rabbit_init: *rabbitmq_mgmt
      divingbell:
        divingbell: *divingbell
      drydock:
        drydock: *drydock
        dep_check: *dep_check
        ks_user: *mos_heat
        ks_service: *mos_heat
        ks_endpoints: *mos_heat
        drydock_db_init: *postgres
        drydock_db_sync: *drydock
      ingress:
        entrypoint: *dep_check
        ingress: *ingress_controller
        ingress_module_init: *ingress_module_init
        ingress_routed_vip: *ingress_routed_vip
        error_pages: *ingress_error_pages
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      shipyard:
        airflow: *airflow
        shipyard: *shipyard
        dep_check: *dep_check
        shipyard_db_init: *postgres
        shipyard_db_auxiliary: *postgres
        shipyard_db_sync: *shipyard
        airflow_db_init: *postgres
        airflow_db_sync: *airflow
        rabbit_init: *rabbitmq_mgmt
        ks_user: *mos_heat
        ks_service: *mos_heat
        ks_endpoints: *mos_heat
        image_repo_sync: *image_repo_sync
      maas:
        db_init: *postgres
        db_sync: *maas_region_controller
        maas_rack: *maas_rack_controller
        maas_region: *maas_region_controller
        maas_syslog: *maas_region_controller
        bootstrap: *maas_region_controller
        export_api_key: *maas_region_controller
        maas_cache: *sstream_cache
        ingress: *maas_ingress
        ingress_vip: *busybox
        error_pages: *ingress_error_pages_404
        dep_check: *dep_check
      keystone:
        bootstrap: *mos_heat
        test: *rally_test
        db_init: *mos_heat
        keystone_db_sync: *mos_keystone
        db_drop: *mos_heat
        ks_user: *mos_heat
        keystone_fernet_setup: *mos_keystone
        keystone_fernet_rotate: *mos_keystone
        keystone_credential_setup: *mos_keystone
        keystone_credential_rotate: *mos_keystone
        keystone_credential_cleanup: *mos_heat
        keystone_api: *mos_keystone
        keystone_domain_manage: *mos_keystone
        dep_check: *dep_check
        rabbit_init: *rabbitmq_mgmt
        image_repo_sync: *image_repo_sync
      tiller:
        tiller: *tiller
      mariadb:
        mariadb: *mariadb_db
        scripted_test: *mariadb_db
        ingress: *ingress_controller_mariadb
        error_pages: *ingress_error_pages
        prometheus_create_mysql_user: *mariadb_db
        prometheus_mysql_exporter: *prometheus_mysql_exporter
        prometheus_mysql_exporter_helm_tests: *mos_heat
        mariadb_backup: *mariadb_db
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      postgresql:
        postgresql: *patroni
        prometheus_postgresql_exporter: *prometheus_postgresql_exporter
        prometheus_postgresql_exporter_create_user: *prometheus_postgresql_exporter_create_user
        postgresql_backup: *postgres
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      memcached:
        memcached: *memcached
        prometheus_memcached_exporter: *prometheus_memcached_exporter
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      rabbitmq:
        prometheus_rabbitmq_exporter: *rabbitmq_exporter
        prometheus_rabbitmq_exporter_helm_tests: *mos_heat
        rabbitmq: *rabbitmq
        dep_check: *dep_check
        scripted_test: *rabbitmq_mgmt
        image_repo_sync: *image_repo_sync
        rabbitmq_init: *mos_heat
    utility:
      ceph-utility:
        ceph_utility: *ceph-utility
        image_repo_sync: *image_repo_sync
      calicoctl-utility:
        calicoctl_utility: *calicoctl-utility
        image_repo_sync: *image_repo_sync
      compute-utility:
        compute_utility: *compute-utility
        image_repo_sync: *image_repo_sync
      etcdctl-utility:
        etcdctl_utility: *etcdctl-utility
        image_repo_sync: *image_repo_sync
      mysqlclient-utility:
        mysqlclient_utility: *mysqlclient-utility
        image_repo_sync: *image_repo_sync
      openstack-utility:
        openstack_utility: *openstack-utility
        image_repo_sync: *image_repo_sync
      postgresql-utility:
        postgresql_utility: *postgresql-utility
        image_repo_sync: *image_repo_sync
    osh:
      memcached:
        dep_check: *dep_check
        memcached: *memcached
        prometheus_memcached_exporter: *prometheus_memcached_exporter
        image_repo_sync: *image_repo_sync
      barbican:
        bootstrap: *mos_heat
        dep_check: *dep_check
        scripted_test: *mos_heat
        db_init: *mos_heat
        barbican_db_sync: *barbican
        db_drop: *mos_heat
        <<: *ref_keystone
        barbican_api: *barbican
        rabbit_init: *rabbitmq_mgmt
      cinder:
        test: *rally_test
        db_init: *mos_heat
        cinder_db_sync: *mos_cinder
        db_drop: *mos_heat
        <<: *ref_keystone
        cinder_api: *mos_cinder
        bootstrap: *mos_heat
        cinder_scheduler: *mos_cinder
        cinder_volume: *mos_cinder
        cinder_volume_usage_audit: *mos_cinder
        cinder_storage_init: *mos_cinder_storage_init
        cinder_backup: *mos_cinder
        cinder_backup_storage_init: *storage_init
        dep_check: *dep_check
        rabbit_init: *rabbitmq_mgmt
      glance:
        test: *rally_test
        glance_storage_init: *storage_init
        glance_metadefs_load: *mos_glance
        db_init: *mos_heat
        glance_db_sync: *mos_glance
        db_drop: *mos_heat
        <<: *ref_keystone
        glance_api: *mos_glance
        glance_registry: *mos_glance
        # Bootstrap image requires curl
        bootstrap: *mos_heat
        dep_check: *dep_check
        rabbit_init: *rabbitmq_mgmt
        cirros_image: https://raw.githubusercontent.com/jasvinder1107/cirros-mirror/master/0.3.5/cirros-0.3.5-x86_64-disk.img
      heat:
        test: *rally_test
        bootstrap: *mos_heat
        db_init: *mos_heat
        heat_db_sync: *mos_heat
        db_drop: *mos_heat
        <<: *ref_keystone
        heat_api: *mos_heat
        heat_cfn: *mos_heat
        heat_cloudwatch: *mos_heat
        heat_engine: *mos_heat
        heat_engine_cleaner: *mos_heat
        heat_purge_deleted: *mos_heat
        dep_check: *dep_check
        rabbit_init: *rabbitmq_mgmt
      horizon:
        db_init: *mos_heat
        horizon_db_sync: *mos_horizon
        db_drop: *mos_heat
        horizon: *mos_horizon
        test: *selenium_tests
        dep_check: *dep_check
      ingress:
        entrypoint: *dep_check
        ingress: *ingress_controller
        ingress_module_init: *ingress_module_init
        ingress_routed_vip: *ingress_routed_vip
        error_pages: *ingress_error_pages
        dep_check: *dep_check
      keystone:
        bootstrap: *mos_heat
        test: *rally_test
        db_init: *mos_heat
        keystone_db_sync: *mos_keystone
        db_drop: *mos_heat
        <<: *ref_keystone
        keystone_fernet_setup: *mos_keystone
        keystone_fernet_rotate: *mos_keystone
        keystone_credential_setup: *mos_keystone
        keystone_credential_rotate: *mos_keystone
        keystone_credential_cleanup: *mos_heat
        keystone_api: *mos_keystone
        keystone_domain_manage: *mos_keystone
        dep_check: *dep_check
        rabbit_init: *rabbitmq_mgmt
      libvirt:
        libvirt: *libvirt
        dep_check: *dep_check
      mariadb:
        mariadb: *mariadb_db
        ingress: *ingress_controller_mariadb
        error_pages: *ingress_error_pages
        prometheus_create_mysql_user: *mariadb_db
        prometheus_mysql_exporter: *prometheus_mysql_exporter
        prometheus_mysql_exporter_helm_tests: *mos_heat
        mariadb_backup: *mariadb_db
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        scripted_test: *mariadb_db
      neutron:
        test: *rally_test
        dep_check: *dep_check
        rabbit_init: *rabbitmq_mgmt
        bootstrap: *mos_heat
        db_init: *mos_heat
        db_drop: *mos_heat
        ks_user: *mos_heat
        ks_service: *mos_heat
        ks_endpoints: *mos_heat
        neutron_db_sync: *mos_neutron
        neutron_dhcp: *mos_neutron
        neutron_l3: *mos_neutron
        neutron_linuxbridge_agent: *mos_neutron
        neutron_metadata: *mos_neutron
        neutron_openvswitch_agent: *mos_neutron_sriov
        neutron_server: *mos_neutron
        neutron_sriov_agent: *mos_neutron_sriov
        neutron_sriov_agent_init: *mos_neutron_sriov
      nova:
        test: *rally_test
        rabbit_init: *rabbitmq_mgmt
        bootstrap: *mos_heat_nova
        db_drop: *mos_heat_nova
        db_init: *mos_heat_nova
        ks_user: *mos_heat_nova
        ks_service: *mos_heat_nova
        ks_endpoints: *mos_heat_nova
        nova_api: *mos_nova
        nova_cell_setup: *mos_nova
        nova_cell_setup_init: *mos_heat_nova
        nova_compute: *mos_nova
        nova_compute_ssh: *mos_nova
        nova_conductor: *mos_nova
        nova_consoleauth: *mos_nova
        nova_db_sync: *mos_nova
        nova_novncproxy: *mos_nova
        nova_novncproxy_assets: *mos_nova
        nova_placement: *mos_nova
        nova_scheduler: *mos_nova
        nova_spiceproxy: *mos_nova
        nova_spiceproxy_assets: *mos_nova
        dep_check: *dep_check
      openvswitch:
        openvswitch_db_server: *openvswitch
        openvswitch_vswitchd: *openvswitch
        dep_check: *dep_check
      rabbitmq:
        prometheus_rabbitmq_exporter: *rabbitmq_exporter
        prometheus_rabbitmq_exporter_helm_tests: *mos_heat
        rabbitmq: *rabbitmq
        rabbitmq_init: *mos_heat
        dep_check: *dep_check
        scripted_test: *rabbitmq_mgmt
    osh_infra:
      elasticsearch:
        apache_proxy: *httpd
        memory_init: *mos_heat
        curator:  *curator
        elasticsearch: *elasticsearch
        es_cluster_wait: *storage_init
        ceph_key_placement: *storage_init
        s3_bucket: *ceph_daemon
        s3_user: *storage_init
        helm_tests: *mos_heat
        prometheus_elasticsearch_exporter: *prometheus_elasticsearch_exporter
        elasticsearch_templates: *mos_heat
        dep_check: *dep_check
        snapshot_repository: *storage_init
        image_repo_sync: *image_repo_sync
      fluentd:
        fluentd: *fluentd
        prometheus_fluentd_exporter: *prometheus_fluentd_exporter
        dep_check: *dep_check
        helm_tests: *mos_heat
        image_repo_sync: *image_repo_sync
      kibana:
        apache_proxy: *httpd
        kibana: *kibana
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        register_kibana_indexes: *mos_heat
      prometheus:
        apache_proxy: *httpd
        prometheus: *prometheus
        helm_tests: *mos_heat
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      prometheus_node_exporter:
        node_exporter: *node_exporter
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      prometheus_process_exporter:
        process_exporter: *process_exporter
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      prometheus_kube_state_metrics:
        kube_state_metrics: *kube_state_metrics
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      prometheus_openstack_exporter:
        prometheus_openstack_exporter: *prometheus_openstack_exporter
        dep_check:  *dep_check
        image_repo_sync: *image_repo_sync
        <<: *ref_keystone
      grafana:
        grafana: *grafana
        dep_check:  *dep_check
        db_init: *mos_heat
        grafana_db_session_sync: *mos_heat
        image_repo_sync: *image_repo_sync
        selenium_tests: *selenium_tests
        helm_tests: *mos_heat
      nagios:
        apache_proxy: *httpd
        nagios: *nagios
        dep_check:  *dep_check
        selenium_tests: *selenium_tests
        image_repo_sync: *image_repo_sync
    osh_addons:
      mini-mirror:
        dep_check: *dep_check
        # docker.io/ubuntu:16.04
        helm-test: *image_repo_sync
        image_repo_sync: *image_repo_sync
        #mini-mirror: *mini_mirror
      ranger:
        ranger: *ranger
        rangercli: *ranger
        ranger_db_sync: *ranger
        db_drop: *mos_heat
        db_init: *mos_heat
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        scripted_test: *mos_heat
      ranger-agent:
        ranger_agent: *ranger_agent
        ranger-agent_db_sync: *ranger_agent
        db_drop: *mos_heat
        db_init: *mos_heat
        ks_user: *mos_heat
        ks_service: *mos_heat
        ks_endpoints: *mos_heat
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        rabbit_init: *rabbitmq_mgmt
        scripted_test: *mos_heat
      sonobuoy:
        dep_check: *dep_check
        ks_user: *mos_heat
        results_publisher: *mos_heat
        # sonobuoy/sonobuoy:v0.16.4
        sonobuoy_api: *rsonobuoy
      ingress:
        entrypoint: *dep_check
        ingress: *ingress_controller
        ingress_module_init: *ingress_module_init
        ingress_routed_vip: *ingress_routed_vip
        error_pages: *ingress_error_pages
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      mariadb:
        mariadb: *mariadb_db
        ingress: *ingress_controller_mariadb
        error_pages: *ingress_error_pages
        prometheus_create_mysql_user: *mariadb_db
        prometheus_mysql_exporter: *prometheus_mysql_exporter
        prometheus_mysql_exporter_helm_tests: *mos_heat
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        mariadb_backup: *mariadb_db
        scripted_test: *mariadb_db
    ceph:
      ceph-mon:
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_mon: *ceph_daemon
        ceph_mon_check: *storage_init
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      ceph-osd:
        ceph_osd: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_bootstrap: *ceph_daemon
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      ceph-client:
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_mds: *ceph_daemon
        ceph_mgr: *ceph_daemon
        ceph_rbd_pool: *storage_init
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      ceph-provisioners:
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_rbd_provisioner: *rbd_provisioner
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      ceph-rgw:
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_rgw: *ceph_daemon
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        rgw_s3_admin: *storage_init
        <<: *ref_keystone
      tenant-ceph-mon:
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_mon: *ceph_daemon
        ceph_mon_check: *storage_init
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      tenant-ceph-osd:
        ceph_osd: *ceph_daemon
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      tenant-ceph-client:
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_mds: *ceph_daemon
        ceph_mgr: *ceph_daemon
        ceph_rbd_pool: *storage_init
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      tenant-ceph-provisioners:
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_rbd_provisioner: *rbd_provisioner
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
      tenant-ceph-rgw:
        ceph_config_helper: *storage_init
        ceph_rgw: *ceph_daemon
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        rgw_s3_admin: *storage_init
        <<: *ref_keystone
    kubernetes:
      apiserver:
        anchor: *hyperkube_amd64
        apiserver: *hyperkube_amd64
        key_rotate: *hyperkube_amd64
        dep_check: *dep_check
      controller-manager:
        anchor: *hyperkube_amd64
        controller_manager: *hyperkube_amd64
        dep_check: *dep_check
      coredns:
        coredns: *coredns
        test: *promenade
      haproxy:
        haproxy: *kubernetes_haproxy
        anchor: *hyperkube_amd64
        test: *kubernetes_test
      etcd:
        etcd: *etcd
        etcdctl: *etcd
      ingress:
        entrypoint: *dep_check
        ingress: *ingress_controller
        ingress_module_init: *ingress_module_init
        ingress_routed_vip: *ingress_routed_vip
        error_pages: *ingress_error_pages
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync

      hyperkube: *hyperkube_amd64

      pause: *kubernetes_pause

      scheduler:
        anchor: *hyperkube_amd64
        scheduler: *hyperkube_amd64
      proxy:
        proxy: *hyperkube_amd64
      falco:
        falco: *falco
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync

    calico:
      etcd:
        etcd: *etcd
        etcdctl: *etcd
      calico:
        calico_etcd: *etcd
        calico_cni: *calico
        calico_ctl: *calico_ctl
        calico_kube_controllers: *calico_kube_controllers
        calico_node: *calico_node
        calico_settings: *calico_ctl
        dep_check: *calico_dep_check

    ozone:
      ozonedb-init:
        ozonedb-init: *mariadb_db
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        db_init: *mos_heat
        scripted_test: *mos_heat
      mariadb:
        mariadb: *mariadb_db
        ingress: *ingress_controller_mariadb
        error_pages: *ingress_error_pages
        prometheus_create_mysql_user: *mariadb_db
        prometheus_mysql_exporter: *prometheus_mysql_exporter
        prometheus_mysql_exporter_helm_tests: *mos_heat
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        mariadb_backup: *mariadb_db
        scripted_test: *mariadb_db
      ceph-provisioners:
        ceph_bootstrap: *ceph_daemon
        ceph_config_helper: *storage_init
        ceph_rbd_provisioner: *rbd_provisioner
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
    artifactory-ha:
      artifactory-ha:
        artifactory: *busybox
        initContainerImage: *alpine
        nginx: *busybox
        db_init: *busybox
        ceph_key_placement: *storage_init
        s3_bucket: *ceph_daemon
        s3_user: *storage_init
        # kubernetes-entrypoint:v0.3.1
        dep_check: *dep_check
        logger: *busybox
      mariadb:
        mariadb: *mariadb_db
        ingress: *ingress_controller_mariadb
        error_pages: *ingress_error_pages
        prometheus_create_mysql_user: *mariadb_db
        prometheus_mysql_exporter: *prometheus_mysql_exporter
        prometheus_mysql_exporter_helm_tests: *mos_heat
        dep_check: *dep_check
        image_repo_sync: *image_repo_sync
        scripted_test: *mariadb_db
    distribution:
      distribution:
        initContainerImage: *alpine-38
        distribution: *busybox
        distributor: *busybox
        redis: *busybox
      postgresql:
        image: *busybox
        metrics:
          image: *busybox

    mission-control:
      mission-control:
        createUser: *busybox
        initContainerImage: *alpine
        insightExecutor: *busybox
        insightScheduler: *busybox
        insightServer: *busybox
        missionControl: *busybox
      mongodb:
        registry: *busybox
      elasticsearch:
        initContainerImage: *alpine
        repository: *busybox
    jenkins:
      jenkins: *busybox
      ks_user: *mos_heat
      image_repo_sync: *image_repo_sync
      dep_check: *dep_check
      namespace_creator: *hyperkube_amd64
      osh_heat: *osh_heat
      dind: *busybox
    cicd:
      generic_pipe:
        ipmi_tool: *busybox
        ansible: *busybox
        shaker: *busybox
        jenkins_jnlp: *busybox
    quagga:
      quagga: *busybox
    nc-aggregator:
      nc-aggregator: *busybox

  packages:
    repositories:
      main_archive:
        repo_type: apt
        url: http://us.archive.ubuntu.com/ubuntu/
        distributions:
          - bionic
        components:
          - main
          - universe
          - multiverse
        subrepos:
          - security
          - updates
        gpgkey: ""
      ceph:
        repo_type: apt
        url: http://mirror.mirantis.com/testing/ceph-nautilus/bionic
        distributions:
          - bionic
        components:
          - main
        gpgkey: |-
          -----BEGIN PGP PUBLIC KEY BLOCK-----
          mQENBFtYVY8BCAC3oli93husG0ZVtv/L8I4/bcW60LFCyB0DuwEznGlSaj1fjOQu
          C7QX9wvGRq8mRZ8mfZ6sbxGmgs0LnV5QIBle1l5I3B+AMGksf6UGEWgoN/vq86g+
          0Jg6kJP/D0sjGXvdlfy+bgAqjsx2bWOLjQGtHSIxhe4cE9HPBfMiYsFwGQua3XN3
          tiGKcifszvDA6uqdjS6DuTEPCzyKiSyUevnWtBh0oUtUt//X4lG2Mx0lU91uUQGj
          KeZ+fYXOLqgZm/FxLVT5w3g/UGK9Cbz5h4kGCJOfk0EwIZp0IRRs1phOC6gVMwoV
          yWKCtdHmg7Ob8I4AZ8OW5HJn1UPHTprxcHBnABEBAAG0LEF1dG9idWlsZGVyIDxp
          bmZyYSthdXRpYnVpbGRlckBtaXJhbnRpcy5jb20+iQE4BBMBAgAiBQJbWFWPAhsD
          BgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRCRZVp5TFKJ70cJB/9ArWrSFyEx
          qs7Tyo9M5WCPjqw7y2F7jd4Et3hqwc5jx6KlxGpg17SHt4oWcmtML3VBx+ziBAi0
          5Ry4Z4w0QqFW6gAqQepeW76Yq/OP5SoqEI9sUwzLfUY7raK/P1buvXB1eZh4mMw4
          TFf4Hgo8yUQ3geYNnUBBfaSfkmiyBJGsMXBfW2zhlpVIyB6Cye5R823FxGNJe+li
          hggNCQnKYqrGtr55RO6xYI1v89cgGrO2EVwPkFLA/MUnQEb433Ck+sjp1NZDUfuJ
          U3gg8S0hT+Cf5XiknT/xqIhhTY/KzlNmynZt/51DzZzsbM+RO6JZFYJL2LuC69gB
          +R5jrmaGu9fG
          =sqIn
          -----END PGP PUBLIC KEY BLOCK-----
      docker:
        repo_type: apt
        url: https://mirror.mirantis.com/testing/kubernetes-extra/bionic
        distributions:
          - bionic
        components:
          - main
        gpgkey: ""
      linux_dell:
        repo_type: apt
        url: http://linux.dell.com/repo/community/openmanage/930/bionic
        distributions:
          - bionic
        components:
          - main
        gpgkey: ""
      nc_extra:
        repo_type: apt
        url: http://linux.dell.com/repo/community/openmanage/930/bionic
        distributions:
          - bionic
        components:
          - main
        gpgkey: ""
      zfs_dkms:
        repo_type: apt
        url: http://linux.dell.com/repo/community/openmanage/930/bionic
        distributions:
          - bionic
        components:
          - main
        gpgkey: ""
    named:
      runtime: containerd=1.5.2-0ubuntu1~18.04.2
      socat: socat
    unnamed:
      - bsd-mailx
      - ceph-common
      - chrony
      - docker-ce=18.09.9-1~u18.04+mcp
      - linux-modules-extra-4.15.0-140-generic
      - jq

  validation:
    pod_logs:
      # docker.io/busybox:1.28.3
      image: docker.io/busybox:1.28.3

  kernel_drivers:
    i40e_driver:
      type: tar
      # NOTE: When you update the driver version here, you need to include a MOP step for the
      # NC release to reboot the nodes after the completion of the Shipyard site-update. In
      # the MOP update, you should also link to the following wiki page:
      # https://wiki.web.att.com/display/CCPdev/i40e+Driver+upgrades
      location: https://netactuate.dl.sourceforge.net/project/e1000/i40e%20stable/2.12.6/i40e-2.12.6.tar.gz
...
